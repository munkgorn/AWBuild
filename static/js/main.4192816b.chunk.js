(this.webpackJsonpAWEasy=this.webpackJsonpAWEasy||[]).push([[0],{332:function(t,e,n){},411:function(t,e){},413:function(t,e){},42:function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return O})),n.d(e,"i",(function(){return g})),n.d(e,"d",(function(){return w})),n.d(e,"g",(function(){return x})),n.d(e,"e",(function(){return v})),n.d(e,"c",(function(){return y})),n.d(e,"f",(function(){return _})),n.d(e,"h",(function(){return S})),n.d(e,"a",(function(){return k}));var a=n(89),r=(n(22),n(6)),c=n.n(r),o=n(15),s=void 0,i=n(407),u=(n(187),n(227).Serialize),l=n(497),d=l.TextDecoder,p=l.TextEncoder,f=n(500).Int64LE,b=n(48),j=function(t){var e=new u.SerialBuffer({textEncoder:new p,textDecoder:new d});return e.pushName(t),e.array},h=function(t){t=new f(t);var e=new u.SerialBuffer({textEncoder:new p,textDecoder:new d});return e.pushArray(t.toArray()),e.getName()},x=function(){var t=Object(o.a)(c.a.mark((function t(e,n,a,r){var o,s,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.get_table_rows({code:e,scope:e,table:"players",lower_bound:n,upper_bound:n});case 2:if(o=t.sent,s={tag:"",avatar:""},!o.rows.length){t.next=11;break}if(s.tag=o.rows[0].tag,!(o.rows[0].avatar>0)){t.next=11;break}return t.next=9,r.getAsset(o.rows[0].avatar);case 9:(i=t.sent)&&(s.avatar=i);case 11:return t.abrupt("return",s);case 12:case"end":return t.stop()}}),t)})));return function(e,n,a,r){return t.apply(this,arguments)}}(),O=function(){var t=Object(o.a)(c.a.mark((function t(e,n,a,r){var o,s,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.get_table_rows({code:e,scope:e,table:"bags",lower_bound:n,upper_bound:n});case 2:if(o=t.sent,s=[],!o.rows.length){t.next=9;break}return i=o.rows[0].items.map((function(t){return r.getAsset(t)})),t.next=8,Promise.all(i);case 8:return t.abrupt("return",t.sent);case 9:return t.abrupt("return",s);case 10:case"end":return t.stop()}}),t)})));return function(e,n,a,r){return t.apply(this,arguments)}}(),g=function(){var t=Object(o.a)(c.a.mark((function t(e,n,a,r){var o,s,i,u=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=u.length>4&&void 0!==u[4]?u[4]:"active",s=[{account:e,name:"setbag",authorization:[{actor:n,permission:o}],data:{account:n,items:a.slice(0,3)}}],t.next=4,r.transact({actions:s},{blocksBehind:3,expireSeconds:90});case 4:return i=t.sent,t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})));return function(e,n,a,r){return t.apply(this,arguments)}}(),m=function(){var t=Object(o.a)(c.a.mark((function t(e,n,a,r){var o,s,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.get_table_rows({code:e,scope:e,table:"landregs",lower_bound:n,upper_bound:n});case 3:if(o=t.sent,s="federation",o.rows.length&&(s=o.rows[0].owner),s){t.next=8;break}throw new Error("Land owner not found for land id ".concat(n));case 8:return t.next=10,r.getAsset(n);case 10:return(i=t.sent).data.planet=h(i.data.planet),i.data.img=i.data.img||"",i.owner=i.owner||s,t.abrupt("return",i);case 17:return t.prev=17,t.t0=t.catch(0),console.log("Error in getLandById ".concat(t.t0.message)),t.abrupt("return",null);case 21:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e,n,a,r){return t.apply(this,arguments)}}(),w=function(){var t=Object(o.a)(c.a.mark((function t(e,n,a,r,o){var s,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.get_table_rows({code:n,scope:n,table:"miners",lower_bound:a,upper_bound:a});case 3:if(0!==(s=t.sent).rows.length){t.next=8;break}return t.abrupt("return",null);case 8:i=s.rows[0].current_land;case 9:return t.next=11,m(e,i,r,o);case 11:return t.abrupt("return",t.sent);case 14:return t.prev=14,t.t0=t.catch(0),console.error("Failed to get land - ".concat(t.t0.message)),t.abrupt("return",null);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,n,a,r,c){return t.apply(this,arguments)}}(),v=function(t){var e={delay:0,difficulty:0,ease:0};return e.delay+=t.data.delay,e.difficulty+=t.data.difficulty,e.ease+=t.data.ease,e},y=function(t){for(var e={delay:0,difficulty:0,ease:0},n=65535,a=0;a<t.length;a++)t[a].data.delay<n&&(n=t[a].data.delay),e.delay+=t[a].data.delay,e.difficulty+=t[a].data.difficulty,e.ease+=t[a].data.ease/10;return 2===t.length?e.delay-=parseInt(n/2):3===t.length&&(e.delay-=n),e},_=function(){var t=Object(o.a)(c.a.mark((function t(e,n,a,r){var o,s,i,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),t.next=3,r.get_table_rows({code:e,scope:e,table:"miners",lower_bound:n,upper_bound:n});case 3:return o=t.sent,s=-1,i=b().valueOf(),console.log("Delay = ".concat(a.delay)),o.rows.length&&"0000000000000000000000000000000000000000000000000000000000000000"!==o.rows[0].last_mine_tx&&(console.log("Last mine was at ".concat(b(o.rows[0].last_mine).add(7,"hour").toISOString(),", now is ").concat(b().toISOString())),u=b(o.rows[0].last_mine).add(7,"hour").valueOf(),(s=u+1e3*a.delay-i)<0&&(s=0)),t.abrupt("return",s);case 9:case"end":return t.stop()}}),t)})));return function(e,n,a,r){return t.apply(this,arguments)}}(),S=function(){var t=Object(o.a)(c.a.mark((function t(e,n,a){var r,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.get_table_rows({code:e,scope:e,table:"miners",lower_bound:n,upper_bound:n});case 2:return r=t.sent,o="0000000000000000000000000000000000000000000000000000000000000000",r.rows.length&&(o=r.rows[0].last_mine_tx),t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),k=function(){var t=Object(o.a)(c.a.mark((function t(e){var n,r,l,f;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("mining_params",e),n=function(){var t=Object(o.a)(c.a.mark((function t(e){var n,r,o,u,l,d,p,f,b,j,h,x,O,g,m,w,v,y,_,S;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=function(){for(var t=new Uint8Array(8),e=0;e<8;e++){var n=Math.floor(255*Math.random());t[e]=n}return t},r=function(t){return Object(a.a)(new Uint8Array(t)).map((function(t){return t.toString(16).padStart(2,"0")})).join("")},o=e.data,o.mining_account,u=o.account,l=o.account_str,d=o.difficulty,p=o.last_mine_tx,f=o.last_mine_arr,o.sb,u=u.slice(0,8),b=".wam"===l.substr(-4),j=!1,h=0,0,console.log("Performing work with difficulty ".concat(d,", last tx is ").concat(p,"...")),b&&console.log("Using WAM account"),w=(new Date).getTime();case 9:if(j){t.next=26;break}return g=n(),(v=new Uint8Array(u.length+f.length+g.length)).set(u),v.set(f,u.length),v.set(g,u.length+f.length),t.next=17,i.subtle.digest("SHA-256",v.slice(0,24));case 17:x=t.sent,O=r(x),(j=b?"0000"===O.substr(0,4):"000000"===O.substr(0,6))&&(m=b?parseInt(O.substr(4,1),16):parseInt(O.substr(6,1),16),j&=m<=d),++h%1e6===0&&console.log("Still mining - tried ".concat(h," iterations")),j||(x=null),t.next=9;break;case 26:return y=(new Date).getTime(),_=r(g),console.log("Found hash in ".concat(h," iterations with ").concat(u," ").concat(_,", last = ").concat(m,", hex_digest ").concat(O," taking ").concat((y-w)/1e3,"s")),S={account:l,rand_str:_,hex_digest:O},s.postMessage(S),t.abrupt("return",S);case 32:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.last_mine_tx=e.last_mine_tx.substr(0,16),e.last_mine_arr=(b=e.last_mine_tx,new Uint8Array(b.match(/.{1,2}/g).map((function(t){return parseInt(t,16)})))),r=new u.SerialBuffer({textEncoder:new p,textDecoder:new d}),e.sb=r,e.account_str=e.account,e.account=j(e.account),l=new Blob(["onmessage = "+n.toString()],{type:"text/javascript"}),(f=new Worker(URL.createObjectURL(l))).postMessage(e),t.next=13,new Promise((function(t){f.onmessage=function(e){return t(e.data)}}));case 13:return t.abrupt("return",t.sent);case 14:case"end":return t.stop()}var b}),t)})));return function(e){return t.apply(this,arguments)}}()}).call(this,n(62).Buffer)},423:function(t,e){},425:function(t,e){},453:function(t,e){},454:function(t,e){},459:function(t,e){},461:function(t,e){},468:function(t,e){},481:function(t,e){},605:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n(38),c=n.n(r),o=(n(332),n(333),n(22)),s=n(33),i=(n(324),n(32)),u=n(112),l=n(607),d=n(93),p=n(6),f=n.n(p),b=n(15),j=n(89),h=n(64),x=n.n(h),O=n(612),g=n(610),m=n(613),w=n(614),v=n(609),y=n(611),_=n(136),S=n(168),k=n(79),A=Object(a.createContext)(),I=n(48),C=n.n(I),E=n(154),M="m.federation",F=n(227),L=(F.Api,F.JsonRpc),W=(F.RpcError,n(233)),T=W.ExplorerApi,P=(W.RpcApi,n(187)),B=new T("https://wax.api.atomicassets.io","atomicassets",{fetch:P,rateLimit:4}),D=(new L("https://api.waxsweden.org",{fetch:P}),n(42)),R=(n(187),n(501),n(8)),N=O.a.Panel,U=g.a.TextArea,H=new E.WaxJS("https://api.waxsweden.org"),J=function(){var t=Object(a.useContext)(A),e="federation",n=["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],r=Object(a.useState)(90),c=Object(o.a)(r,2),i=c[0],u=c[1],l=Object(a.useState)(t.account),d=Object(o.a)(l,2),p=d[0],h=d[1],g=Object(a.useState)("0 WAX"),I=Object(o.a)(g,2),E=I[0],F=I[1],L=Object(a.useState)("0 TLM"),W=Object(o.a)(L,2),T=W[0],P=W[1],J=Object(a.useState)(100),z=Object(o.a)(J,2),G=z[0],q=z[1],X=Object(a.useState)(100),Y=Object(o.a)(X,2),K=Y[0],V=Y[1],Q=Object(a.useState)(100),Z=Object(o.a)(Q,2),$=Z[0],tt=Z[1],et=Object(a.useState)([]),nt=Object(o.a)(et,2),at=nt[0],rt=nt[1],ct=Object(a.useState)([]),ot=Object(o.a)(ct,2),st=(ot[0],ot[1]),it=Object(a.useState)(""),ut=Object(o.a)(it,2),lt=ut[0],dt=ut[1],pt=Object(a.useState)(""),ft=Object(o.a)(pt,2),bt=ft[0],jt=ft[1],ht=Object(a.useState)("Loading..."),xt=Object(o.a)(ht,2),Ot=xt[0],gt=xt[1],mt=Object(a.useState)([]),wt=Object(o.a)(mt,2),vt=wt[0],yt=(wt[1],Object(a.useState)(["7","8","9","10","11","13","14","15","16","17","19","20","21","22","23"])),_t=Object(o.a)(yt,2),St=_t[0],kt=_t[1],At=Object(a.useState)(!1),It=Object(o.a)(At,2),Ct=It[0],Et=It[1],Mt=Object(a.useState)(!1),Ft=Object(o.a)(Mt,2),Lt=(Ft[0],Ft[1],Object(a.useState)({time:!0===St.includes(C()().hour().toString()),delay:!1,cpu:!1})),Wt=Object(o.a)(Lt,2),Tt=Wt[0],Pt=Wt[1],Bt=function(){var e={code:"eosio.token",account:p,symbol:"WAX"};return x.a.post("https://wax.greymass.com/v1/chain/get_currency_balance",JSON.stringify(e)).then((function(e){1===(null===e||void 0===e?void 0:e.data.length)&&(t.wax=e.data[0],F(e.data[0]))})),!0},Dt=function(){var e={json:!0,code:"alien.worlds",scope:p,table:"accounts",table_key:"",lower_bound:"",upper_bound:"",index_position:1,key_type:"",limit:1,reverse:!1,show_payer:!1};return x.a.post("https://api.waxsweden.org/v1/chain/get_table_rows",e).then((function(e){var n,a,r,c;(null===e||void 0===e?void 0:e.data.rows.length)>=1&&(t.tlm=null===(n=e.data)||void 0===n||null===(a=n.rows[0])||void 0===a?void 0:a.balance,P(null===(r=e.data)||void 0===r||null===(c=r.rows[0])||void 0===c?void 0:c.balance))})),!0},Rt=function(){var t={account_name:p};x.a.post("https://api.waxsweden.org/v1/chain/get_account",t).then((function(t){var e=(t.data.cpu_limit.used/t.data.cpu_limit.max*100).toFixed(2).toString(),n=(t.data.ram_usage/t.data.ram_quota*100).toFixed(2).toString(),a=(t.data.net_limit.used/t.data.net_limit.max*100).toFixed(2).toString();q(+e),V(+n),tt(+a)}))},Nt=function(){var t=Object(b.a)(f.a.mark((function t(n){var a,r,c,o,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(H),gt("Get delay"),t.next=5,D.b(M,n,H.api.rpc,B);case 5:return a=t.sent,gt("Get bag"),t.next=9,D.d(e,M,n,H.api.rpc,B);case 9:return r=t.sent,gt("Get land"),rt(a.filter((function(t){return"tool.worlds"===t.schema.schema_name})).map((function(t){return{code:t.asset_id,name:t.name}}))),st(a),dt("".concat(r.asset_id," : ").concat(r.name," (").concat(r.data.x,"x").concat(r.data.y,") (Com.").concat(r.data.commission/100,"%)")),c=D.c(a),o=D.e(r),c.delay*=o.delay/10,c.difficulty+=o.difficulty,gt("Get next time mine"),t.next=21,D.f(M,n,c,H.api.rpc);case 21:return s=t.sent,t.abrupt("return",s);case 25:t.prev=25,t.t0=t.catch(0),console.log(t.t0);case 28:case"end":return t.stop()}}),t,null,[[0,25]])})));return function(e){return t.apply(this,arguments)}}(),Ut=function(){var t=Object(b.a)(f.a.mark((function t(){var e,n,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Nt(p);case 2:e=t.sent,n=Math.floor(e/1e3),a=setInterval((function(){console.log("Loop delay ".concat(n," sec")),console.log(Tt);var t,e=Math.floor(n/60);e>=60&&(t=Math.floor(e/60));var r=n-60*e;0===n?(jt(""),console.log("clear time"),clearInterval(a),console.log(Tt),Pt(Object(s.a)(Object(s.a)({},Tt),{},{delay:!0}))):(n--,jt("".concat(t?t.toString().padStart(2,"0")+":":"").concat(e.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"))))}),1e3);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ht=function(){var t=Object(b.a)(f.a.mark((function t(e){var n,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.b(M,e,H.api.rpc,B);case 3:return n=t.sent,a=D.c(n),t.abrupt("return",a.difficulty);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),Jt=function(){var t=Object(b.a)(f.a.mark((function t(n){var a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.d(e,M,n,H.api.rpc,B);case 3:return a=t.sent,r=D.e(a),t.abrupt("return",r.difficulty);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),zt=function(){var t=Object(b.a)(f.a.mark((function t(e){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=Object(b.a)(f.a.mark((function t(n,a){var r,c,o,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ht(e);case 2:return r=t.sent,t.next=5,Jt(e);case 5:return c=t.sent,o=r+c,console.log("difficulty",o),console.log("start doWork = "+Date.now()),t.next=11,D.h(M,e,H.api.rpc);case 11:s=t.sent,D.a({mining_account:M,account:e,difficulty:o,last_mine_tx:s}).then((function(t){console.log("end doWork = "+Date.now()),console.log(t),n(t)})).catch((function(t){return a(t)}));case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Gt=function(t){var e=JSON.parse(t);try{console.log("".concat(e.account," Pushing mine results...")),gt("Pushing transection.");var n={miner:e.account,nonce:e.rand_str};console.log("mine_data",n);var a=[{account:M,name:"mine",authorization:[{actor:e.account,permission:"active"}],data:n}];H.api.transact({actions:a},{blocksBehind:3,expireSeconds:90}).then((function(t){console.log("result is=",t);new Map;if(t&&t.processed){var n=0;t.processed.action_traces[0].inline_traces.forEach((function(t){if("alien.worlds"===t.act.account&&"transfer"===t.act.name&&t.act.data.to===e.account){var a=t.act.data.quantity.split(" "),r=Object(o.a)(a,1)[0];n+=parseFloat(r)}})),console.log("".concat(n.toFixed(4)," TLM")),gt("Mine success!! ".concat(n.toFixed(4)," TLM")),vt.push("".concat(C()().format("YYYY-MM-DD HH:mm:ss")," ").concat(n.toFixed(4)," TLM")),Et(!1),Pt(Object(s.a)(Object(s.a)({},Tt),{},{delay:!1})),Object(b.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ut());case 1:case"end":return t.stop()}}),t)})))()}})).catch((function(t){console.log(t),gt("".concat(t))}))}catch(r){console.log(r),gt("Fail push transection!!")}};return Object(a.useEffect)((function(){console.log(vt)}),[vt]),Object(a.useEffect)((function(){!0===St.includes(C()().hour().toString())?Pt(Object(s.a)(Object(s.a)({},Tt),{},{time:!0})):Pt(Object(s.a)(Object(s.a)({},Tt),{},{time:!1}))}),[St]),Object(a.useEffect)((function(){Pt(G<=i?Object(s.a)(Object(s.a)({},Tt),{},{cpu:!0}):Object(s.a)(Object(s.a)({},Tt),{},{cpu:!1}))}),[G]),Object(a.useEffect)((function(){console.log(!0===St.includes(C()().hour().toString()),St,C()().hour().toString()),console.log("condition",Tt),!1===Tt.time?gt("Time to offline"):!1===Tt.delay?gt("Waiting..."):!1===Tt.cpu?gt("Waiting checking cpu every 15 sec."):Ct?gt("Minging..."):(Et(!0),gt("Time to mine"),function(){try{zt(p).then((function(t){Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Gt(JSON.stringify(t));case 1:case"end":return e.stop()}}),e)})))()}))}catch(t){console.log(t),gt("Fail mining!!")}}())}),[Tt]),Object(a.useEffect)((function(){Object(b.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===H||void 0===H?void 0:H.api)){t.next=7;break}return gt("Login ".concat(p)),Bt(),Dt(),Rt(),t.next=7,Ut();case 7:case"end":return t.stop()}}),t)})))();var t=window.setInterval((function(){console.log("get cpu every 15 sec."),Rt()}),15e3);return function(){window.clearInterval(t)}}),[H,p]),Object(a.useEffect)((function(){Object(b.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return gt("Login..."),t.next=3,H.login();case 3:e=t.sent,h(e);case 5:case"end":return t.stop()}}),t)})))()}),[]),Object(R.jsxs)("div",{children:[Object(R.jsx)("h1",{children:p?"Hi, ".concat(p):"Wait auto login"}),Object(R.jsxs)("p",{children:[T," / ",E," "]}),Object(R.jsxs)("p",{children:["Status : ",Ot]}),Object(R.jsxs)(m.a,{gutter:[4,4],children:[Object(R.jsx)(w.a,{span:8,children:Object(R.jsxs)("p",{children:["Delay :",Object(R.jsx)("br",{}),Tt.delay?Object(R.jsx)(S.a,{style:{color:"green"}}):Object(R.jsx)(k.a,{style:{color:"red"}})," ","".concat(bt)]})}),Object(R.jsx)(w.a,{span:8,children:Object(R.jsxs)("p",{children:["Time :",Object(R.jsx)("br",{}),Tt.time?Object(R.jsx)(S.a,{style:{color:"green"}}):Object(R.jsx)(k.a,{style:{color:"red"}})," ",!1===Tt.time?"Offline":"Online"]})}),Object(R.jsx)(w.a,{span:8,children:Object(R.jsxs)("p",{children:["CPU :",Object(R.jsx)("br",{}),Tt.cpu?Object(R.jsx)(S.a,{style:{color:"green"}}):Object(R.jsx)(k.a,{style:{color:"red"}})," ","".concat(G.toFixed(0),"/").concat(i," %")]})})]}),Object(R.jsx)(m.a,{gutter:[12,12],style:{marginBottom:"15px"},children:Object(R.jsxs)(w.a,{span:24,children:[Object(R.jsxs)("div",{children:[Object(R.jsxs)("span",{style:{marginRight:"5px"},children:["CPU / MAX : ",Object(R.jsx)(v.a,{onChange:function(t){return u(t)},min:1,max:99,defaultValue:i,bordered:!1})]}),Object(R.jsx)(y.a,{percent:G,status:G>i?"exception":"active"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("span",{style:{marginRight:"5px"},children:"RAM"}),Object(R.jsx)(y.a,{percent:K,status:K>90?"exception":"active"})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("span",{style:{marginRight:"5px"},children:"NET"}),Object(R.jsx)(y.a,{percent:$,status:K>90?"exception":"active"})]})]})}),Object(R.jsxs)(m.a,{gutter:[12,12],children:[Object(R.jsx)(w.a,{span:24,children:lt}),Object(R.jsx)(w.a,{span:24,children:at&&at.map((function(t,e){return Object(R.jsx)("p",{style:{marginBottom:0},children:"".concat(t.code," : ").concat(t.name)},e)}))}),Object(R.jsx)(w.a,{span:24,children:Object(R.jsx)(U,{rows:4,bordered:!1,placeholder:"History mine ..",value:vt.map((function(t,e){return Object(R.jsx)("span",{children:t},e)}))})}),Object(R.jsx)(w.a,{span:24,children:Object(R.jsx)(O.a,{ghost:!0,expandIcon:function(){return""},children:Object(R.jsxs)(N,{header:"Config time online",children:[Object(R.jsx)("div",{children:Object(R.jsx)(_.a,{onChange:function(t){return e=t.target.checked,void kt(e?n:[]);var e},children:"All"})},"all"),n.map((function(t,e){return Object(R.jsx)("div",{children:Object(R.jsx)(_.a,{onChange:function(e){return n=e.target.checked,a=t,void kt(n?[].concat(Object(j.a)(St),[a]):Object(j.a)(St.filter((function(t){return t!==a}))));var n,a},checked:!!St.find((function(e){return e===t})),children:"".concat(t.toString().padStart(2,"0"),":00-").concat(t.toString().padStart(2,"0"),":59")})},e)}))]},"1")})})]})]})},z=(n(70),n(615)),G=n(320),q=n(608),X=n(617),Y=n(616),K=n(309),V=n.n(K),Q=n(310),Z=n.n(Q),$=n(311),tt=n.n($);C.a.extend(V.a),C.a.extend(Z.a),C.a.extend(tt.a);l.a.Header,l.a.Content,l.a.Footer;var et=g.a.Search,nt=function(){var t=Object(a.useState)([]),e=Object(o.a)(t,2),n=e[0],r=e[1],c=Object(a.useState)([]),i=Object(o.a)(c,2),u=i[0],l=i[1],d=Object(a.useState)(!1),p=Object(o.a)(d,2),h=(p[0],p[1],Object(a.useState)(10)),O=Object(o.a)(h,2),g=O[0],_=O[1],S=Object(a.useState)(null),k=Object(o.a)(S,2),A=k[0],I=k[1],E=Object(a.useState)(""),M=Object(o.a)(E,2),F=M[0],L=M[1],W=Object(a.useState)(0),T=Object(o.a)(W,2),P=T[0],B=T[1],D=Object(a.useState)(0),N=Object(o.a)(D,2),U=N[0],H=N[1],J=[{title:"Account",dataIndex:"account",key:"account"},{title:"CPU",dataIndex:"cpu",key:"cpu",width:"20%",render:function(t){return Object(R.jsx)(y.a,{percent:t,strokeColor:t>90?"red":"",format:function(t,e){return"".concat(t,"%")},style:{width:"100%"}})}},{title:"RAM",dataIndex:"ram",key:"ram",width:"20%",responsive:["md"],render:function(t){return Object(R.jsx)(y.a,{percent:t,strokeColor:t>90?"red":"",format:function(t,e){return"".concat(t,"%")},style:{width:"100%"}})}},{title:"TLM ".concat(U),dataIndex:"tlm",key:"tlm"},{title:"WAX ".concat(P),dataIndex:"wax",key:"wax",responsive:["md"]},{title:"Last Mine",dataIndex:"last",key:"wax"},{title:"Remove",key:"action",render:function(t,e){return Object(R.jsx)(z.b,{size:"middle",children:Object(R.jsx)("a",{onClick:function(){return K(e)},children:Object(R.jsx)(X.a,{style:{color:"red"}})})})}}],K=function(t){console.log(t),r(n.filter((function(e){return e!==t.account}))),l(u.filter((function(e){return e.account!==t.account})))},V=function(){var t=Object(b.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.map((function(t){var e=x.a.post("https://api.waxsweden.org/v1/chain/get_account",{account_name:t}),n=x.a.post("https://api.waxsweden.org/v1/chain/get_table_rows",{json:!0,code:"alien.worlds",scope:t,table:"accounts",table_key:"",lower_bound:"",upper_bound:"",index_position:1,key_type:"",limit:1,reverse:!1,show_payer:!1}),a=x.a.post("https://api.waxsweden.org/v1/chain/get_table_rows",{json:!0,code:"m.federation",scope:"m.federation",table:"miners",table_key:"",lower_bound:t,upper_bound:t,index_position:1,key_type:"",limit:10,reverse:!1,show_payer:!1});return x.a.all([e,n,a]).then(x.a.spread((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[0].data.core_liquid_balance.split(" "),r=e[1].data.rows[0].balance.split(" ");return{account:e[0].data.account_name,cpu:+(e[0].data.cpu_limit.used/e[0].data.cpu_limit.max*100).toFixed(0),ram:+(e[0].data.ram_usage/e[0].data.ram_quota*100).toFixed(0),wax:+a[0],tlm:+r[0],last:C()().to(C()(e[2].data.rows[0].last_mine).add(7,"hour").toISOString())}}))).catch((function(t){return console.error(t)}))})),Promise.all(n).then((function(t){t.length>0&&(B(t.map((function(t){return t.wax})).reduce((function(t,e){return t+e})).toFixed(2)),H(t.map((function(t){return t.tlm})).reduce((function(t,e){return t+e})).toFixed(2)),l(t)),G.b.destroy(),L("")}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Q=function(){var t=Object(b.a)(f.a.mark((function t(e){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:L(e),e&&!n.includes(e)?(console.log("add"),r([].concat(Object(j.a)(n),[e])),G.b.loading("Add account ".concat(e))):G.b.error("This account has in list.");case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Z=function(){return Object(R.jsx)(q.a,{size:"small",columns:J,dataSource:u.map((function(t,e){return Object(s.a)({key:e},t)}))})},$=function(){clearInterval(A),I(setInterval((function(){n.length>0&&(console.log("Load Account",n),V(n))}),1e3*g))};return Object(a.useEffect)((function(){g>0&&(console.log("Change sec",g),G.b.info("Change time ".concat(g)),$())}),[g]),Object(a.useEffect)((function(){console.log("account change",n),V(n),$()}),[n]),Object(R.jsxs)(m.a,{gutter:[12,12],children:[Object(R.jsx)(w.a,{sm:{span:24},md:{span:12},lg:{span:6},children:Object(R.jsx)(et,{value:F,onChange:function(t){return L(t.target.value)},placeholder:"New Account",allowClear:!0,enterButton:Object(R.jsx)(Y.a,{}),onSearch:Q})}),Object(R.jsxs)(w.a,{sm:{span:24},md:{span:12},lg:{span:6},children:["Refresh ",Object(R.jsx)(v.a,{min:1,max:3600,onChange:function(t){return _(t)},defaultValue:g,bordered:!1})," Sec."]}),Object(R.jsx)(w.a,{span:24,children:Object(R.jsx)(Z,{})})]})},at=l.a.Header,rt=l.a.Content,ct=l.a.Footer,ot=function(){var t=Object(a.useState)({isLogin:!1,account:null,publicKey:null,wax:0,tlm:0,cpu:0,ram:0}),e=Object(o.a)(t,2),n=e[0];e[1];return Object(R.jsx)(A.Provider,{value:n,children:Object(R.jsx)(u.a,{children:Object(R.jsxs)(l.a,{className:"layout",children:[Object(R.jsx)(at,{children:Object(R.jsxs)(d.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"],children:[Object(R.jsx)(d.a.Item,{children:Object(R.jsx)(u.b,{to:"/",children:"AWEasy"})},"1"),Object(R.jsx)(d.a.Item,{children:Object(R.jsx)(u.b,{to:"/AWAccount",children:"AWAccount"})},"2")]})}),Object(R.jsx)(rt,{style:{padding:"25px 50px"},children:Object(R.jsx)("div",{className:"site-layout-content",children:Object(R.jsxs)(i.c,{children:[Object(R.jsx)(i.a,{path:"/AWAccount",children:Object(R.jsx)(nt,{})}),Object(R.jsx)(i.a,{path:"/",children:Object(R.jsx)(J,{})})]})})}),Object(R.jsx)(ct,{style:{textAlign:"center"},children:"AWEasy \xa92021 v 1.0.2 Created by MUNKGORN"})]})})})},st=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,618)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,c=e.getLCP,o=e.getTTFB;n(t),a(t),r(t),c(t),o(t)}))};c.a.render(Object(R.jsx)(ot,{}),document.getElementById("root")),st()}},[[605,1,2]]]);
//# sourceMappingURL=main.4192816b.chunk.js.map